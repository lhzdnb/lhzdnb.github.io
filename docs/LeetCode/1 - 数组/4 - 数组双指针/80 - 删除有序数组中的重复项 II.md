---
title: 80 - 删除有序数组的重复项 ||
tags: [数组,双指针]
---

# 删除有序数组的重复项 ||

## 题目链接
[删除有序数组的重复项 ||](https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/description/)

## 题目
给你一个有序数组 `nums` ，请你 **原地** 删除重复出现的元素，使得出现次数超过两次的元素只出现两次 ，返回删除后数组的新长度。

不要使用额外的数组空间，你必须在 **原地** 修改输入数组 并在使用 $O(1)$ 额外空间的条件下完成。

## 思路
为了保证每个元素最多出现两次，我们可以采用双指针技术，一个指针遍历数组，另一个指针用于记录新数组的下一个插入位置。

## 解题方法
1. 如果数组长度小于等于 2，直接返回数组的长度，因为每个元素最多出现两次的要求已经满足。
2. 使用一个指针 `fast` 遍历数组，另一个指针 `slow` 记录新数组的下一个插入位置。
3. 对于每个元素，如果当前元素与 `slow-2` 位置的元素不同（意味着当前元素最多只出现了一次或两次），将其复制到 `slow` 位置，并递增 `slow`。
4. 遍历完成后，`slow` 就是新数组的长度。

## 代码
```javascript
/**
 * @param {number[]} nums
 * @return {number}
 */
var removeDuplicates = function(nums) {
  if (nums.length <= 2) {
    return nums.length
  }
  
  let slow = 2;
  for (let fast = 2; fast < nums.length; fast++) {
    if (nums[fast] !== nums[slow - 2]) {
      nums[slow] = nums[fast]
      slow ++
    }
  }
  return slow
}
```